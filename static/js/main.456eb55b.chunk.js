(this["webpackJsonpcolony-events-list"]=this["webpackJsonpcolony-events-list"]||[]).push([[0],{166:function(e,t,n){e.exports={Avatar:"Avatar_Avatar__1-pej"}},167:function(e,t,n){e.exports={Loader:"Loader_Loader__1G8Of"}},169:function(e,t,n){e.exports={EventsList:"EventsList_EventsList__3YT7f","fade-shadow":"EventsList_fade-shadow__2R6Gs"}},178:function(e,t,n){},191:function(e,t){},205:function(e,t){},207:function(e,t){},217:function(e,t){},219:function(e,t){},244:function(e,t){},249:function(e,t){},251:function(e,t){},258:function(e,t){},277:function(e,t){},346:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),c=n(164),s=n.n(c),i=(n(177),n(178),n(11)),o=n(15),u=n(19),d=n(165),l=n.n(d),f=n(166),j=n.n(f),b=n(1),p=function(e){var t=e.identity;return Object(b.jsx)(l.a,{className:j.a.Avatar,seed:t,size:10,scale:3.7})},v=n(66),m=n.n(v),O=n(170),x=function(e){var t=e.userAddress,n=e.message,a=e.timestamp,c=e.eventType,s=Object(r.useState)(20),i=Object(u.a)(s,2),o=i[0],d=i[1],l=Object(r.useMemo)((function(){return Object(b.jsx)(p,{identity:t})}),[t]),f=Object(r.useMemo)((function(){return new Date(a).toLocaleDateString("en-UK",{day:"numeric",month:"short"})}),[a]),j=Object(r.useCallback)((function(){return d("auto")}),[]),v=Object(r.useCallback)((function(){return d(20)}),[]);return Object(b.jsxs)("li",{className:m.a.EventCard,"data-event":c,onMouseEnter:j,onMouseLeave:v,children:[l,Object(b.jsxs)("div",{className:m.a.EventCardBody,children:[Object(b.jsx)(O.a,{duration:200,height:o,children:Object(b.jsx)("h2",{className:m.a.EventCardTitle,children:n})}),Object(b.jsx)("time",{children:f})]})]})},h=n(167),g=n.n(h),y=function(e){var t=e.message;return Object(b.jsx)("div",{className:g.a.Loader,children:t||Object(b.jsx)("h1",{children:"Loading..."})})},C=n(24),w=n(9),E=function(e){var t=e.values.fundingPotId;return t?new w.utils.BigNumber(t).toString():null},_=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n,r,a,c,s,o,u,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.parsedData,r=t.connection.client,a=t.fundingPotId,(c=n.values.user||"")||!a){e.next=12;break}return e.next=5,r.getFundingPot(a);case 5:return s=e.sent,o=s.associatedTypeId,e.next=9,r.getPayment(o);case 9:return u=e.sent,d=u.recipient,e.abrupt("return",d);case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=_,k=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n,r,a,c,s,o,u;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parsedData,r=t.eventType,a=t.userAddress,c=t.fundingPotId,s={"0x6B175474E89094C44Da98b954EedeAC495271d0F":"DAI","0x0dd7b8f3d1fa88FAbAa8a04A0c7B52FC35D4312c":"BLNY"},o=n.values.domainId?new w.utils.BigNumber(n.values.domainId).toString():"",u={ColonyInitialised:function(){return Object(b.jsx)(b.Fragment,{children:"Congratulations! It's a beautiful baby colony!"})},DomainAdded:function(){return Object(b.jsxs)(b.Fragment,{children:["Domain ",Object(b.jsx)("strong",{children:o})," added"]})},ColonyRoleSet:function(){var e=C.ColonyRole[n.values.role]||"";return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("strong",{children:e})," role assigned to user"," ",Object(b.jsx)("strong",{children:a})," in domain"," ",Object(b.jsx)("strong",{children:o})]})},PayoutClaimed:function(){var e=new w.utils.BigNumber(n.values.amount),t=new w.utils.BigNumber(10);return e=e.div(t.pow(18)),Object(b.jsxs)(b.Fragment,{children:["User ",Object(b.jsx)("strong",{children:a})," claimed"," ",Object(b.jsxs)("strong",{children:[e.toString(),s[n.values.token]||""]})," ","payout from pot ",Object(b.jsx)("strong",{children:c})]})}},e.abrupt("return",u[r]?u[r]():Object(b.jsx)(b.Fragment,{children:"No matching event"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=k,F=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n,r){var a,c,s,o,u,d;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="0x5346D0f80e2816FaD329F2c140c870ffc3c3E2Ef",e.next=3,Object(C.getBlockTime)(n.provider,r.blockHash);case 3:return c=e.sent,s=n.client.interface.parseLog(r),o=E(s),e.next=8,D({parsedData:s,connection:n,fundingPotId:o});case 8:return u=e.sent,e.next=11,A({parsedData:s,eventType:t,userAddress:u,fundingPotId:o});case 11:return d=e.sent,e.abrupt("return",{userAddress:u||a,message:d,eventType:t,timestamp:c});case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){var r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.getLogs)(t.client,t.client.filters[n]());case 2:return r=e.sent,e.next=5,Promise.all(r.map((function(e){return F(n,t,e)})));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=L,N=n(168),I=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,r,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"0x5346D0f80e2816FaD329F2c140c870ffc3c3E2Ef","0x869814034d96544f3C62DE2aC22448ed79Ac8e70",t=new N.InfuraProvider,n=w.Wallet.createRandom(),r=n.connect(t),a=Object(C.getColonyNetworkClient)(C.Network.Mainnet,r,{networkAddress:"0x5346D0f80e2816FaD329F2c140c870ffc3c3E2Ef"}),e.next=8,a.getColonyClient("0x869814034d96544f3C62DE2aC22448ed79Ac8e70");case 8:return c=e.sent,e.abrupt("return",{provider:t,client:c});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=I,B=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,n=["ColonyInitialised","DomainAdded","ColonyRoleSet","PayoutClaimed"],r=P.bind(null,t),e.next=7,Promise.all(n.map(r));case 7:return a=e.sent,e.abrupt("return",a.flat().sort((function(e,t){return t.timestamp-e.timestamp})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=B,R=n(169),M=n.n(R),G=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(u.a)(c,2),d=s[0],l=s[1],f=Object(r.useState)(!1),j=Object(u.a)(f,2),p=j[0],v=j[1],m=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Sorry, something has gone wrong."}),"Please try again in a while."]}),O=Object(b.jsx)("h1",{children:"No matching events were found."});return Object(r.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,a(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0),l(!0);case 11:v(!0);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),d?Object(b.jsx)(y,{message:m}):!n.length&&p?Object(b.jsx)(y,{message:O}):n.length?Object(b.jsx)("ul",{className:M.a.EventsList,children:n.map((function(e,t){return Object(b.jsx)(x,{timestamp:e.timestamp,message:e.message,userAddress:e.userAddress,eventType:e.eventType},t)}))}):Object(b.jsx)(y,{})},J=function(){return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(G,{})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,347)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(J,{})})),U()},66:function(e,t,n){e.exports={EventCard:"EventCard_EventCard__2E0Pk","fade-in-down":"EventCard_fade-in-down__3Qoem",EventCardTitle:"EventCard_EventCardTitle__1cPru",EventCardBody:"EventCard_EventCardBody__1RL9_"}}},[[346,1,2]]]);
//# sourceMappingURL=main.456eb55b.chunk.js.map